package test.java;

import static org.junit.Assert.assertEquals;

import org.junit.Before;
import org.junit.Test;

import main.java.Paper;
import main.java.Pencil;

public class SharpenTests {
	
	Paper paper;
	Pencil pencil;
	
	static int BASE_TIP_DURABILITY = 100;
	
	@Before
	public void InitializePaperAndPencil() {
		paper = new Paper();
		pencil = new Pencil(paper, Integer.MAX_VALUE, Integer.MAX_VALUE, Integer.MAX_VALUE);
	}
	
	@Test
	public void sharpeningPencilRestoresTipDurabilityToOriginalValue() {
		pencil.tip.tipDurability = 0;
		pencil.tip.sharpen();
		assertEquals(Integer.MAX_VALUE, pencil.tip.tipDurability);
	}
	
	@Test
	public void sharpeningPencilWithLength2ReducesPencilLengthTo1() {
		pencil.tip.length = 2;
		pencil.tip.sharpen();
		assertEquals(1, pencil.tip.length);
	}	
	
	@Test
	public void sharpeningPencilWithLength1ReducesPencilLengthTo0() {
		pencil.tip.length = 1;
		pencil.tip.sharpen();
		assertEquals(0, pencil.tip.length);
	}
	
	@Test
	public void sharpeningPencilWith0LengthDoesNotChangeTipDurability() {
		pencil.tip.tipDurability = BASE_TIP_DURABILITY;
		pencil.tip.length = 0;
		pencil.tip.sharpen();
		assertEquals(BASE_TIP_DURABILITY, pencil.tip.tipDurability);
	}
}
